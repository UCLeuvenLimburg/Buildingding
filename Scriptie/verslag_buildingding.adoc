:toc: macro
:toclevels: 2
:icons: font
:doctype: article
:imagesdir: ./img
:nofooter:

image::ucll_pink.png[float="left, role="left",200,200]
{nbsp} +
{nbsp} +
{nbsp} +
[.text-center]
AFSTUDEERPROJECT TOEGEPASTE INFORMATICA +
Schooljaar 2020-2021

{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +

image::bdd_logo.png[400,400,float="center",align="center"]

{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +


[.text-right]
*_Auteurs:_* +
Hamid Khodayari +
Thomas Nelen +
Johan Molenberghs +
Jaron Trossaert

{nbsp} +
{nbsp} +

[.text-right]
*_Promotor:_* +
Frédéric Vogels

<<<

toc::[]

== 1. Scope and vision

=== 1.1. Business Requirements

==== 1.1.1. Background
Students and personnel at UCLL Proximus do not always know their way around the campus.
Especially first-timers such as new teachers and first year students often have to ask around on-site to know where they should go for their next class, or they might not even know how to get back to their car in the parking lot.
Of lesser importance are - amongst others - the cafeteria and the public restrooms, but even those places of interest are usually not easily found. +
Furthermore, some lost sheep sometimes don’t even know where they themselves are - for example when leaving a very confusing course, Databases 2 for example.
Being in such a state of disorientation can be quite a negative experience for anyone, quite possibly ruining the rest of the day. +
But it’s not only people who attend or teach classes that might need some guidance getting somewhere on campus.
Regularly, visitors not directly affiliated with the UCLL such as guest lecturers have to be somewhere on campus as well.
Delays due to high traffic around the campus notwithstanding, nobody’s happy when a guest arrives fabulously late for a specific appointment within the halls of campus Proximus, which sadly enough happens a lot. +
The problem of not finding the way around campus efficiently, or at all, is an issue that also pertains to locating certain objects like printers, emergency kits, cleaning utilities for the cleaning crew, and so on.
Finally, let us not forget about the emergency services.
It’s very important for them to not get lost on the way to an accident on the premises, or even on their way back to the ambulance.
This does not happen too often, but these kinds of dumb mishaps should be avoided at all costs when lives are on the line.

==== 1.1.2. Business Opportunity
Many persons have requested a system that would permit one to better navigate their way around the campus, or to be guided to the utilities, like the nearest printer or water fountain.
Such a system would save students and employees time as well as increase the chance of getting to their destinations in time.
Knowing the shortest route to their destination would reduce the time lost waiting for a lecturer or guest speaker and decrease the odds of classes getting disturbed by wayward students.

==== 1.1.3. Business Improvement Objectives
* BO-1: Reduce the arrival latency in freshman classes within a month following initial release.
** Scale: The duration freshmen spend finding an accurate path.
** Meter: Location of devices according to access points.
** Past: Approximately 15 minutes.
** Goal: Less than 10 minutes.

* BO-2: Reduce the amount of people in crowded areas.

* BO-3: Reduce the disruptions while classes are taking place.

* BO-4: Increase the course efficiency and students’ concentration during class.

==== 1.1.4. Success Metrics
* SM-1: 12% of campus first-timers and first year students use the app to find their way around.

* SM-2: Campus regulars who use the app find shorter routes than the ones known to them.

* SM-3: Utilities like printers and first aid kits are more easily found.

==== 1.1.5. Vision Statement
For people at UCLL Campus Proximus who want to find the shortest path to their destination on campus, Buildingding is an Android application that will guide its users along that path.
The application will save time and effort for the user by not needing to visit the reception, nor asking someone for directions, as well as not having to return from wrong paths.
Additionally, correct app usage reduces interaction with the receptionists for related questions, giving these employees more time for tasks with a higher priority.

==== 1.1.6. Business Risks
* RI-1: Too few students, staff and guests might use the application, making the time and effort put into the project appear as a waste of time. (Probability = 0.6, Impact = 3)

* RI-2: The application might give incorrect info about or wrong directions to a specific location, which would result in the user being worse off than before consulting the app. Additionally, this experience would reduce user satisfaction with the app and possibly their usage of it. (Probability = 0.3, Impact = 9)

* RI-3: The navigational aspect of the app might become outdated, for example when certain hallways become unavailable - either temporarily or permanently - to travel through, which means that the app users would not always be able to adhere to the suggested route. (Probability = 0.4, Impact = 7)

* RI-4: The access points, used for identifying locations within the app, might get modified over time. This would result in the app not performing to its full potential, or it might even make the app unusable if the app is improperly maintained post-release. (Probability = 0.2, Impact = 8)

=== 1.2. Scope and Limitations

==== 1.2.1. Major Features
* FE-1: Receive the shortest route to a designated spot on campus.

* FE-2: Find your current location on the premises.

* FE-3: View basic information for a specified location within the building complex.

==== 1.2.2. Stakeholders profiles
[options="header"]
|=======================
|Stakeholder|Major Value|Attitudes|Major Interests|Constraints
|First-year students, trainees, guests, new lecturers|Reduced stress when looking for a classroom.|Strong enthusiasm, can traverse through the campus more easily.|Simplicity of use; time and effort savings to find specific locations on campus.|Parties should be made aware of the existence of the application beforehand.
|Reception staff|Less frequently distracted from work to give directions.|Concern about not being aware of guests currently on campus; otherwise receptive.|Reducing the total workload with minimal changes to payroll.|Communication with third parties to create application awareness.
|Attendees on campus|In case of emergency, quickly find the nearest exit.|Strong commitment through release 2; may not be used frequently.|Simplicity of use; extra means of safety when traversing campus grounds.|Need to have application installed and mobile device nearby when an emergency arises.
|Students|Find infrequently used locations more easily.|Receptive through release 1; may not use application frequently.|Minimal effort needed; become more knowledgeable of campus features and their respective locations.|Need to have application installed and device within reach.
|Application maintenance team|No benefit; needs to maintain the application to ensure routes are up to date in case of unconventional situations.|Not happy about the obligatory software work; recognize the value to the organization and its users.|Minimal new technology needed; concern about difficulty of editing and updating the application.|Might not have the staff or knowhow necessary to make changes to the application.
|=======================

=== 1.3. Software Requirements Specifications

==== 1.3.1. Users and Characteristics
.Guidee
The guidee is any user who wants to find a specified location on campus.
There are on average one thousand people present on campus, of which 50 or more would be expected to use the application simultaneously.

==== 1.3.2. Operating Environment Constraints
* OE-1: The app only works on mobile devices running Android 9 and later.

* OE-2: Because the app uses Kotlin, the backend is cross-platform.

==== 1.3.3. Design and Implementation Constraints
* CO-1: The system’s design, code, and maintenance documentation shall conform to the UCLL Intranet Development Standard.

* CO-2: The system shall use Kotlin as the main programming language.

* CO-3: The app utilises the Wi-Fi Round Trip Time Android standard to help localise the user with Time of Flight ranging capabilities.

==== 1.3.4. Assumptions
* The operation of the app depends on the usage consistency of the current Cisco access points which broadcast their BSSID.

* Buildingding and its creators assume that the campus premises are available to its user while consulting the app.
It does not account for temporary closures such as during holiday periods and lockdowns.

* Location on the mobile device is enabled.

* The app will be distributed as an .apk file through a private link. Therefore, application installations coming from sources unknown to the Android system must be allowed on the related device.

* The app only works on the premises of Campus Proximus.

=== 1.4. External Interface Requirements

==== 1.4.1. User Interfaces
* UI-1: The Buildingding app screens shall conform to the corporate design of the UCLLfootnote:[https://intranet.ucll.be/nl/student/studeren-aan-ucll/pba-de-toegepaste-informatica-proximus/opleiding/kleuren-en-lettertypes-ucll].

* UI-2: The app shall provide multiple languages for each displayed page in order to provide support for international students.

* UI-3: The application pages shall permit complete navigation using single hand gestures alone, in addition to optionally using the phone camera.

* UI-4: Buildingding can be used in both portrait and landscape mode, but is primarily designed to use in portrait mode.

* UI-5: Additional accessibility options such as a colour-blind mode are not supported as of yet, but it will be looked into in the near future if there is a demand for it.

==== 1.4.2. Software Interfaces
* SI-1: Localisation System
** SI-1.1: Buildingding shall transmit the whereabouts of the user to the Localisation System through a programmatic interface.
** SI-1.2: The app shall poll the Localisation System either through a location list or through scanning for the user's whereabouts.
** SI-1.3: The scanning utility within the Localisation System only supports certain scannable entities, i.e. very specific QR codes.

* SI-2: Navigational System +
Buildingding shall communicate with the Navigational System through a programmatic interface for the following operations:
** SI-2.1:  To allow a Guidee to enter his/her destination address.
** SI-2.2: To calculate the optimal route for the Guidee to follow from his/her start location to his/her destination.
** SI-2.3: To allow the Guidee to see his/her optimal path as a list of instructions.
** SI-2.4: To show the optimal path on a two-dimensional visualisation, i.e. show the route on a map.
** SI-2-4: To back out of the calculated route in order for the Guidee to enter new start and/or end positions.

==== 1.4.3. Communications Interfaces
* CI-1: The Buildingding app does not notify the Guidee as of yet when he/she has arrived at the chosen destination, but it will be looked into in the near future if there is a demand for it.

== 2. Planning

=== 2.1. Kanban
Jira software was used to monitor and support the Buildingding project. The roadmap, backlog, and board features of this agile project management tool were invaluable during the development of the app.

.In-progress epics on the kanban board
image::kanban_prep.png[float="center",align="center"]

.A snapshot of the backlog
image::kanban_backlog.png[float="center",align="center"]

=== 2.2. User story map
image::story_map_v2.png[float="center",align="center"]

=== 2.3. User story priority list
[options="header"]
|=======================
|Must have
|Show list of start locations
|Show list of end locations
|Find optimal path to destination
|Show path in text format
|Designate starting position
|Designate finish position
|Start navigation
|=======================

[options="header"]
|=======================
|Should have
|Basic location info
|2D visual navigation
|End navigation
|Change destination
|Corona based directions
|Automated localisation
|=======================

[options="header"]
|=======================
|Nice to have
|Compass-based map rotation
|Restroom hotkey
|AR text-based directions
|"Point me to the nearest free classroom"
|Schedule integration
|Find people on campus
|Text-to-speech based directions
|Alternative starting position
|Multi-language support
|Voice assist
|Time tracking
|Time estimates
|Find location by room name
|Update current location
|Find optimised path to destination with constraints
|AR arrow-based directions
|Colour-blind support
|=======================

== 3. User stories

=== 3.1. User story B01: Localisation
As a *user*

I *want* to select locations from input list

so that I *can navigate* between the points.

==== 3.1.1. Acceptance criteria
*Scenario 1:  Valid starting point and destination point list* +
*Given* a user +
*When* user types the code-name of classroom as _'Choose starting point'_
or code-name of destination in _'Choose destination'._ +
*Then* a selectable list of locations based on input value will be shown.

==== 3.1.2. Wireframes
image::usb01_wireframe.png[alt="User Story 1 Wireframe."]

==== 3.1.3. Technical details
- Use this topic to make the input autocomplete option: https://www.geeksforgeeks.org/autocompletetextview-in-kotlin/[AutoCompleteTextView in Kotlin
^]

=== 3.2. User story B02: Text-based Navigation
As a *user*

I *want* to go to details page

so that I *can see* a text-based navigation between two points.

==== 3.2.1. Acceptance criteria
*Scenario 1: Find the shortest route between points* +
*Given* a user +
*When* the user clicks on _'Find shortest Route'_ button +
*Then* a list of steps to be taken to reach destination will be shown.

*Scenario 2: Cancelling the navigation details page* +
*Given* a user +
*When* the user clicks on _'Cancel'_ button on details page +
*Then* the applications returns to previous page.

==== 3.2.2. Wireframes
image::usb02_wireframe.png[alt="User Story 2 Wireframe."]

==== 3.2.3. Technical details
- https://www.geeksforgeeks.org/check-possible-move-given-coordinate-desired-coordinate/?ref=lbp[Check if possible to move from given coordinate to desired coordinate^]
 (Java)
- This example will help you understand the Vector implementation on a Java application: https://noobtuts.com/java/vector2-class[vector2 Class^]
- To know the directions of the path such as, left, right or straight.
You can use https://www.intmath.com/vectors/3-vectors-2-dimensions.php[Vectors in 2-D^]
* Giving the location coordination parameters (x, y)
* Using magnitude and direction of a 2-dimensional Vector
. Clockwise direction of the angle: right
. Counterclockwise direction of the angle: left
* A vector showing the position of a point A with coordinates (2, 3) and a point O with coordinates (0,0)

image::vector.png[alt="A vector in the Cartesian plane, showing the position of a point A with coordinates (2, 3).", width=200]

=== 3.3. User story B03: Utility-based Navigation
As a *user*

I *want* to select my location in order to find a nearest by Utility

so that I *can see* the text-based navigation detail page.

==== 3.3.1. Acceptance criteria
*Scenario 1: Relatable list of code-names shown as list* +
*Given* a user +
*When* user types the code-name of classroom that user is at the moment
in _'Start point'_ +
*Then* a selectable list of locations based on input value will be shown.

*Scenario 2: Utility selection from the list* +
*Given* a user +
*When* the user selects the Utility +
*Then* the applications returns the text-based navigation
detail page for the nearest by chosen Utility.

*Scenario 3: Canceling the navigation details page* +
*Given* a user +
*When* the user clicks on _'Cancel'_ button on details page +
*Then* the applications returns back to Find Nearest by page.

==== 3.3.2. Wireframes
image:usb03_wireframe.png[alt="User Story 3 Wireframe."]

==== 3.3.3. Technical details
- Follow User Story B01 for start point input recommendation list.
- Follow User Story B02 for Nearest By Utility, Text-Based Detail page.
- Make a nested and logical list of utilities for selection.
- Make sure that after clicking 'Cancel' the value of the input for start point will remain the same in the 'Find Nearest by' page.

=== 3.4. User story B04: Basic Information about Location
As a *user*

I *want* to select a location

so that I *can see* basic Information about that particular location.

==== 3.4.1. Acceptance criteria
*Scenario 1: Relatable list of code-names shown as list* +
*Given* a user +
*When* the user types the code-name of location +
*Then* a selectable list of locations based on input value will be shown.

*Scenario 2: Details of the locations is shown* +
*Given* a user +
*When* the user selects the location code-name +
*Then* the application returns the basic details on the detail section of the page.

*Scenario 3: Invalid code-names returns error* +
*Given* a user +
*When* the user enters invalid code-name  +
*Then* the application returns 'No location found by this code-name'.

==== 3.4.2. Wireframes
image:usb04_wireframe.png[alt="User Story 4 Wireframe."]

==== 3.4.3. Technical details
- Follow User Story B01 for location's code-name input recommendation list.
- Use Event Listeners for displaying the details of the selected location.
* Working of event Listeners with https://www.w3schools.com/js/tryit.asp?filename=tryjs_addeventlistener_parameters[JavaScript^]

=== 3.5. User story B05: Automate Starting Point
As a *user*

I *want* to select my starting location automatically

so that I *can navigate* between the points.

==== 3.5.1. Acceptance criteria
*Scenario 1: Checkbox enabled sets my location automatically* +
*Given* a user +
*When* the user checks the checkbox 'Automate Location' +
*Then* the input value becomes the current location of the person.

*Scenario 2: Disabled GPS on device puts checkbox out of action and gives an error message* +
*Given* a user +
*When* the user's GPS is not available +
*Then* the checkbox is disabled and a message is shown 'Allow the application to use your location information.'.

==== 3.5.2. Wireframes
image:usb05_wireframe.png[alt="User Story 5 Wireframe."]

==== 3.5.3. Technical details
* Options to automate user location:
. WI-FI location: ranging with RTT https://developer.android.com/things/sdk/drivers/location[Android Developers^]
. Android Location user drivers allow the app to publish updates to the device's physical location through the https://developer.android.com/things/sdk/drivers/location[Android locations Services.^]

=== 3.6. User story B06: Select Visual Navigation
As a *user*

I *want* to select Visual navigation type

so that I *can show the route* between the points in a basic 2-Dimensional map.

==== 3.6.1. Acceptance criteria
*Scenario 1: Visualize in 2D map* +
*Given* a user +
*When* the user clicks the _'Visualize in 2D'_ button +
*Then* a 2D map of the route is shown on the 2D map page.

*Scenario 2: Cancelling the navigation details page* +
*Given* a user +
*When* the user clicks the _'Cancel'_ button on 2D map page +
*Then* the application returns to the previous page.

==== 3.6.2. Wireframes
image:usb06_wireframe.png[alt="User Story 6 Wireframe."]

=== 3.7. User story B07: Corona Proof Navigation
As a *user*

I *want* to select the Covid-19 regulations Checkbox

so that I *can show the route* between the points based on Covid-19 regulations.

==== 3.7.1. Acceptance criteria
*Scenario 1: Checkbox enabled navigation via Covid-19 regulations based pathway* +
*Given* a user +
*When* the user checks the checkbox 'Covid-19 regulations' +
*Then* the application return a list of steps based on Corona regulations, on details page.

==== 3.7.2. Wireframes
image:usb07_wireframe.png[alt="User Story 7 Wireframe."]

==== 3.7.3. Technical details
- Use a directed graph for setting the paths between the nodes.

=== 3.8. User story B08: Utility Information
As a *user*

I *want* to select a Utility

so that I *can see* the basic Information about that particular Utility.

==== 3.8.1. Acceptance criteria
*Scenario 1: Relatable list of code-names shown as list* +
*Given* a user +
*When* the user types the code-name of Utility +
*Then* a selectable list of utilities based on input value will be shown.

*Scenario 2: Details of the Utility is shown* +
*Given* a user +
*When* the user selects the utility code-name +
*Then* the application returns the basic details on the detail section of the page.

*Scenario 3: Invalid code-names returns error* +
*Given* a user +
*When* the user enters invalid code-name  +
*Then* the application returns 'No Utility found by this code-name'.

==== 3.8.2. Wireframes
image:usb08_wireframe.png[alt="User Story 8 Wireframe."]

==== 3.8.3. Technical details
- Use Event Listeners for displaying the details of the selected utility.
